<!DOCTYPE html>
<html>
	<head>
		<title>Todo App</title>
		<meta name=viewport content="width=device-width, initial-scale=1, maximum-scale=1" />
		<link type="text/css" rel="stylesheet" href="css/style.css" />
	</head>

	<body>

		<!-- Application parent element -->
		<div id="content"></div>

		<!-- Template for the main view -->
		<script type="plain/text" id="todo-main-view">
			<div class="header">
				<h1>Todo</h1>
			</div>
			<div id="listheader"></div>
			<div id="add">
				<div class="<%= left() === 0 ? 'allchecked' : ''%>" id="checkall"></div>
				<input type="text" placeholder="What needs to be done?" />
			</div>
			<ul id="list"></ul>
			<div id="footer"></div>
		</script>

		<!-- Template for the footer view -->
		<script type="plain/text" id="todo-footer-view">
			<div class="footer-head"></div>
			<div class="footer-content">
				<%= left() %> item<%= left() === 1 ? '' : 's'%> left
				<% if(total()-left() > 0) { %>
					<button>Clear completed (<%= total()-left() %>)</button>
				<% } %>
			</div>
		</script>
	
		<!-- Template for a list item -->
		<script type="plain/text" id="todo-list-item">
			<div class="check <%=todoItem.get('done') ? 'checked' : ''%>"></div>
			<div class="label"><%= todoItem.get('label') %></div>
			<div class="rm"></div>
		</script>

		<!-- Template for editing a list item -->
		<script type="plain/text" id="todo-edit-list-item">
			<input type="text" value="<%=todoItem.get('label')%>" />
		</script>

		<!-- Needed by the todo module -->
		<script type="text/javascript" src="../libs/jquery.js"></script> 
		<script type="text/javascript" src="../libs/underscore.js"></script>

		<!-- The framework -->
		<script type="text/javascript" src="../minimajs.min.js"></script>

		<!-- The application -->
		<script type="text/javascript" src="js/app.js"></script>
		<script type="text/javascript" src="js/router.js"></script>
		<script type="text/javascript" src="js/config.js"></script>
		<script type="text/javascript" src="js/modules/todo.js"></script>
		<script type="text/javascript">
			var app = minimajs.factory(App); // Init
			app.driver.start(function() { // Start driver
				app.router.start(); // Driver loaded, let's route!
			});
		</script>

	</body>
</html>
